<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Modern E-Commerce Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Latest Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com/3.3.0"></script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }

    .cart-sidebar {
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
    }

    .cart-sidebar.open {
      transform: translateX(0%);
    }

    /* Floating button hover effect */
    #toggle-cart-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    /* Smooth hover effect for product cards */
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
    }

    .icon-button {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">

  <!-- Main Container -->
  <div class="container mx-auto px-4 py-10">
    <!-- Header -->
    <header class="text-center mb-10">
      <h1 class="text-4xl font-extrabold text-gray-900">Discover Our Exclusive Collection</h1>
      <p class="text-lg text-gray-500 mt-2">Best products curated for you</p>
    </header>

    <!-- Product Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Product 1 -->
      <div class="bg-white rounded-lg shadow-lg product-card p-6 text-center transition-transform duration-300 ease-in-out"
        data-product
        data-item-id="product-1"
        data-item-name="Product 1"
        data-item-price="29.99">
        <img src="https://via.placeholder.com/300" alt="Product 1" class="mx-auto mb-4 rounded-lg">
        <h2 class="text-xl font-semibold text-gray-700">Product 1</h2>
        <p class="text-gray-700 mb-4">$29.99</p>
        <div class="flex justify-center gap-3 mt-4">
          <!-- View Product Button -->
          <button class="icon-button bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition duration-200" aria-label="View Product">
            <i class="fas fa-eye text-gray-600 text-xl"></i>
          </button>

          <!-- Add to Cart Button -->
          <button class="bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition duration-200" data-add-to-cart aria-label="Add to Cart">
            <i class="fas fa-cart-plus"></i>
          </button>
        </div>
      </div>

      <!-- Product 2 -->
      <div class="bg-white rounded-lg shadow-lg product-card p-6 text-center transition-transform duration-300 ease-in-out"
        data-product
        data-item-id="product-2"
        data-item-name="Product 2"
        data-item-price="49.99">
        <img src="https://via.placeholder.com/300" alt="Product 2" class="mx-auto mb-4 rounded-lg">
        <h2 class="text-xl font-semibold text-gray-700">Product 2</h2>
        <p class="text-gray-700 mb-4">$49.99</p>
        <div class="flex justify-center gap-3 mt-4">
          <button class="icon-button bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition duration-200" aria-label="View Product">
            <i class="fas fa-eye text-gray-600 text-xl"></i>
          </button>
          <button class="bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition duration-200" data-add-to-cart aria-label="Add to Cart">
            <i class="fas fa-cart-plus"></i>
          </button>
        </div>
      </div>

      <!-- Product 3 -->
      <div class="bg-white rounded-lg shadow-lg product-card p-6 text-center transition-transform duration-300 ease-in-out"
        data-product
        data-item-id="product-3"
        data-item-name="Product 3"
        data-item-price="19.99">
        <img src="https://via.placeholder.com/300" alt="Product 3" class="mx-auto mb-4 rounded-lg">
        <h2 class="text-xl font-semibold text-gray-700">Product 3</h2>
        <p class="text-gray-700 mb-4">$19.99</p>
        <div class="flex justify-center gap-3 mt-4">
          <button class="icon-button bg-gray-200 p-2 rounded-full hover:bg-gray-300 transition duration-200" aria-label="View Product">
            <i class="fas fa-eye text-gray-600 text-xl"></i>
          </button>
          <button class="bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition duration-200" data-add-to-cart aria-label="Add to Cart">
            <i class="fas fa-cart-plus"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar fixed right-0 top-0 w-80 h-full bg-white shadow-lg flex flex-col p-6">
    <h2 class="text-2xl font-bold mb-4">Your Cart</h2>
    <ul id="cart-items" class="flex-grow overflow-y-auto mb-4"></ul>
    <p id="cart-total-sidebar" class="text-xl font-semibold mb-4">Total: $0.00</p>
    <input type="text" id="discount-code" placeholder="Discount Code" class="w-full mb-2 px-3 py-2 border rounded">
    <button id="apply-discount-btn" class="w-full bg-green-500 text-white py-2 rounded mb-2 hover:bg-green-600 transition duration-200">Apply Discount</button>
    <button id="checkout-btn" class="w-full bg-blue-600 text-white py-2 rounded mb-2 hover:bg-blue-700 transition duration-200">Checkout</button>
    <button id="clear-cart-btn" class="w-full bg-yellow-500 text-white py-2 rounded mb-2 hover:bg-yellow-600 transition duration-200">Clear Cart</button>
    <button id="close-cart-btn" class="w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition duration-200">Close Cart</button>
  </div>

  <!-- Floating Cart Button -->
  <button id="toggle-cart-btn" class="fixed bottom-5 right-5 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-transform duration-200">
    <i class="fas fa-shopping-cart text-white text-xl"></i>
  </button>
  <cart-preview-widget
  heading-text="Your Cart"
  checkout-text="Buy Now"
  position="bottom-left"
  as-icon="false">
  <div class="extra-content">Free shipping on orders over $50!</div>
</cart-preview-widget>

  <!-- Include the bundled JavaScript file -->
  <script type="module">
    import { Panierr, CartPreviewWidget } from '../dist/index.mjs';

    const cart = new Panierr({
      cartTotalSelector: '#cart-total',
      cartCountSelector: '#cart-count',
      cartItemsSelector: '#cart-items',
      cartSidebarTotalSelector: '#cart-total-sidebar',
      sidebarEnabled: true, 
      sidebarSelector: '.cart-sidebar',
      onItemAdded: (item) => console.log(`Item added: ${item.name}`),
      onItemRemoved: (item) => console.log(`Item removed: ${item.name}`),
      onItemUpdated: (item) => console.log(`Item updated: ${item.name}, quantity: ${item.quantity}`),
      onCartCleared: () => console.log('Cart cleared'),
      onDiscountApplied: (discount) => console.log(`Discount applied: ${discount}%`),
      onInvalidDiscount: (code) => console.log(`Invalid discount code: ${code}`)
    });

    // Register the Cart Preview Widget
    cart.registerWidgets([CartPreviewWidget]);

    // Apply Discount
    document.getElementById('apply-discount-btn').addEventListener('click', () => {
      const discountCode = document.getElementById('discount-code').value;
      cart.applyDiscount(discountCode);
    });

    // Clear Cart
    document.getElementById('clear-cart-btn').addEventListener('click', () => {
      cart.clearCart();
    });

    // Checkout
    document.getElementById('checkout-btn').addEventListener('click', () => {
      alert('Proceeding to checkout...');
      cart.clearCart();  // Clear the cart after checkout
    });
  </script>

</body>
</html>
